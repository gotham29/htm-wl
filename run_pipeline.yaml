mode: real-time
#post-hoc, real-time
alg: HTM
#HTM, Naive, SteeringEntropy, IForest, OCSVM, KNN, KDE, LOF
#LightGBMModel, NBEATSModel, TCNModel, TransformerModel, RNNModel, ARIMA

windows_ascore:
  recent: 15  #5, 10, 15
  previous: 35  #15, 25, 35
  change_thresh_percent: 200  #50, 100, 200
  change_detection_window: 20  #10, 15, 20

subjects_testfiles_wltogglepoints:
  Crim:
    SUNY_rt_run_0076.csv:
      time_total: 182
      times_wltoggle:
      - 63
    SUNY_rt_run_0077.csv:
      time_total: 177
      times_wltoggle:
      - 83
    SUNY_rt_run_0079.csv:
      time_total: 194
      times_wltoggle:
      - 65
    SUNY_rt_run_0082.csv:
      time_total: 239
      times_wltoggle:
      - 43
    SUNY_rt_run_0088.csv:
      time_total: 179
      times_wltoggle:
      - 81
    SUNY_rt_run_0089.csv:
      time_total: 235
      times_wltoggle:
      - 40
    SUNY_rt_run_0095.csv:
      time_total: 151
      times_wltoggle:
      - 87
  Destasio:
    SUNY_rt_run_0051.csv:
      time_total: 159
      times_wltoggle:
      - 82
    SUNY_rt_run_0054.csv:
      time_total: 155
      times_wltoggle:
      - 61
    SUNY_rt_run_0057.csv:
      time_total: 175
      times_wltoggle:
      - 92
    SUNY_rt_run_0064.csv:
      time_total: 151
      times_wltoggle:
      - 58
  Hagginbothom:
    SUNY_rt_run_0076.csv:
      time_total: 181
      times_wltoggle:
      - 46
    SUNY_rt_run_0077.csv:
      time_total: 169
      times_wltoggle:
      - 69
    SUNY_rt_run_0079.csv:
      time_total: 202
      times_wltoggle:
      - 44
    SUNY_rt_run_0082.csv:
      time_total: 348
      times_wltoggle:
      - 119
    SUNY_rt_run_0088.csv:
      time_total: 94
      times_wltoggle:
      - 60
    SUNY_rt_run_0089.csv:
      time_total: 275
      times_wltoggle:
      - 44
    SUNY_rt_run_0095.csv:
      time_total: 161
      times_wltoggle:
      - 88
  JohnDoe:
    SUNY_rt_run_0051.csv:
      time_total: 325
      times_wltoggle:
      - 152
    SUNY_rt_run_0054.csv:
      time_total: 335
      times_wltoggle:
      - 231
    SUNY_rt_run_0057.csv:
      time_total: 284
      times_wltoggle:
      - 212
    SUNY_rt_run_0064.csv:
      time_total: 193
      times_wltoggle:
      - 136
    SUNY_rt_run_0071.csv:
      time_total: 278
      times_wltoggle:
      - 177
    SUNY_rt_run_0072.csv:
      time_total: 282
      times_wltoggle:
      - 157
  Kagey:
    SUNY_rt_run_0051.csv:
      time_total: 288
      times_wltoggle:
      - 214
    SUNY_rt_run_0054.csv:
      time_total: 286
      times_wltoggle:
      - 179
    SUNY_rt_run_0057.csv:
      time_total: 288
      times_wltoggle:
      - 216
    SUNY_rt_run_0064.csv:
      time_total: 288
      times_wltoggle:
      - 159
    SUNY_rt_run_0071.csv:
      time_total: 166
      times_wltoggle:
      - 63
    SUNY_rt_run_0072.csv:
      time_total: 200
      times_wltoggle:
      - 24
  Moultrie:
    SUNY_rt_run_0051.csv:
      time_total: 170
      times_wltoggle:
      - 96
    SUNY_rt_run_0054.csv:
      time_total: 179
      times_wltoggle:
      - 79
    SUNY_rt_run_0057.csv:
      time_total: 179
      times_wltoggle:
      - 100
    SUNY_rt_run_0064.csv:
      time_total: 190
      times_wltoggle:
      - 60
    SUNY_rt_run_0071.csv:
      time_total: 167
      times_wltoggle:
      - 74
    SUNY_rt_run_0072.csv:
      time_total: 225
      times_wltoggle:
      - 46
    SUNY_rt_run_0076.csv:
      time_total: 191
      times_wltoggle:
      - 58
    SUNY_rt_run_0077.csv:
      time_total: 185
      times_wltoggle:
      - 89
    SUNY_rt_run_0079.csv:
      time_total: 196
      times_wltoggle:
      - 59
    SUNY_rt_run_0082.csv:
      time_total: 233
      times_wltoggle:
      - 48
    SUNY_rt_run_0088.csv:
      time_total: 179
      times_wltoggle:
      - 76
    SUNY_rt_run_0089.csv:
      time_total: 233
      times_wltoggle:
      - 42
    SUNY_rt_run_0095.csv:
      time_total: 175
      times_wltoggle:
      - 102
  Parsell:
    SUNY_rt_run_0076.csv:
      time_total: 82
      times_wltoggle:
      - 39
    SUNY_rt_run_0077.csv:
      time_total: 129
      times_wltoggle:
      - 56
    SUNY_rt_run_0079.csv:
      time_total: 124
      times_wltoggle:
      - 41
    SUNY_rt_run_0082.csv:
      time_total: 206
      times_wltoggle:
      - 26
    SUNY_rt_run_0088.csv:
      time_total: 125
      times_wltoggle:
      - 55
    SUNY_rt_run_0089.csv:
      time_total: 204
      times_wltoggle:
      - 22
    SUNY_rt_run_0095.csv:
      time_total: 134
      times_wltoggle:
      - 82
  Wilt:
    SUNY_rt_run_0076.csv:
      time_total: 129
      times_wltoggle:
      - 45
    SUNY_rt_run_0077.csv:
      time_total: 96
      times_wltoggle:
      - 62
    SUNY_rt_run_0079.csv:
      time_total: 271
      times_wltoggle:
      - 138
    SUNY_rt_run_0082.csv:
      time_total: 195
      times_wltoggle:
      - 24
    SUNY_rt_run_0088.csv:
      time_total: 120
      times_wltoggle:
      - 57
    SUNY_rt_run_0089.csv:
      time_total: 193
      times_wltoggle:
      - 24
  Wright:
    SUNY_rt_run_0076.csv:
      time_total: 120
      times_wltoggle:
      - 38
    SUNY_rt_run_0077.csv:
      time_total: 87
      times_wltoggle:
      - 58
    SUNY_rt_run_0079.csv:
      time_total: 132
      times_wltoggle:
      - 34
    SUNY_rt_run_0082.csv:
      time_total: 165
      times_wltoggle:
      - 19
    SUNY_rt_run_0088.csv:
      time_total: 79
      times_wltoggle:
      - 59
    SUNY_rt_run_0089.csv:
      time_total: 154
      times_wltoggle:
      - 20
    SUNY_rt_run_0095.csv:
      time_total: 150
      times_wltoggle:
      - 82

features:
  in:
    - steering angle
  pred:
    - steering angle

colnames:
  - timestamp
  - steering angle
  - brake pressure

columns_model:
  - steering angle

hzs:
  baseline: 100
  convertto: 5  #6.67

clip_percents:
  start: 0
  end: 0
    # lags_past_covariates: Union[int, List[int]] = None,
    # lags_future_covariates: Union[Tuple[int, int], List[int]] = None,
    # output_chunk_length: int = 1,
    # quantiles: List[float] = None,
    # random_state: Optional[int] = None,
    # add_encoders: Optional[dict] = None,
      # = {
      # 'cyclic': {'future': ['month']},
      # 'datetime_attribute': {'future': ['hour', 'dayofweek']},
      # 'position': {'past': ['absolute'], 'future': ['relative']},
      # 'custom': {'past': [lambda idx: (idx.year - 1950) / 50]},
      # 'transformer': Scaler()
      # }
    # likelihood: str = None,
    #   = ['quantile', 'poisson']

htm_config_model:
  models_encoders:
    n: 400
    w: 21
    n_buckets: 130
    p_padding: 20  #10
    seed: 0
  models_params:
    anomaly_likelihood:
      probationaryPeriod: 500
      reestimationPeriod: 100
    sp:
      potentialPct: 0.8
      columnCount: 2048
      globalInhibition: true
      boostStrength: 0.0
      localAreaDensity: 0.0  #0.1
      stimulusThreshold: 0.0
      numActiveColumnsPerInhArea: 40  #0
      synPermActiveInc: 0.003
      synPermConnected: 0.2
      synPermInactiveDec: 0.0005
      wrapAround: true
      minPctOverlapDutyCycle: 0.001
      dutyCyclePeriod: 1000
      seed: 0  #1956
    tm:
      activationThreshold: 20
      cellsPerColumn: 32
      columnDimensions: 2048
      initialPerm: 0.21  #0.24
      maxSegmentsPerCell: 128
      maxSynapsesPerSegment: 128
      minThreshold: 13
      newSynapseCount: 31
      permanenceDec: 0.0  #0.008
      permanenceInc: 0.10  #0.04
      permanenceConnected: 0.5
      predictedSegmentDecrement: 0.001
      seed: 0  #1960
  models_predictor:
    enable: false
    resolution: 1
    sdrc_alpha: 0.1
    steps_ahead:
    - 1
    - 2
  spatial_anomaly:
    enable: false  #true
    tolerance: 0.05
    perc_min: 0
    perc_max: 100
    anom_prop: 0.3
    window: 100000

htm_config_user:
  features:
    steering angle:
      type: float
      min: null
      max: null
      weight: 1.0
#    steering angle 2:
#      type: float
#      min: null
#      max: null
#      weight: 1.0
    timestamp:
      custom: 0
      dayOfWeek: 0
      format: '%Y-%m-%d %X'
      holiday: 0
      season: 0
      timeOfDay:
      - 21
      - 9.49
      type: timestamp
      weekend: 0
      weight: 0
  models_state:
    model_for_each_feature: true  #false
    return_pred_count: true
    use_sp: true
  timesteps_stop:
    learning:  #100000
    running:  #110000
    sampling:  #10000

train_models: true
data_cap: 100000
eval_metric: rmse
forecast_horizon: 1
test_prop: 0.3
time_col: timestamp
file_type: xls
scale: false
do_gridsearch: false  #true
learn_in_testing: false
